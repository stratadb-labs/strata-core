# v1.0: Stable Release

**Theme**: Stability guarantees and long-term commitment.

v1.0 marks the point where StrataDB commits to backwards compatibility. On-disk formats, wire protocols, and public APIs become stable. Breaking changes require major version bumps.

## Features

### Stable On-Disk Format

Guarantee that databases created with v1.0 can be read by all future 1.x releases.

- Freeze WAL record format (currently `WAL_RECORD_FORMAT_VERSION`)
- Freeze snapshot format (currently `SNAPSHOT_FORMAT_VERSION`)
- Freeze manifest format (currently `MANIFEST_FORMAT_VERSION`)
- Document the binary format specification
- Add format version detection and migration tooling

### Stable Wire Protocol

If server mode (v0.6) ships, freeze the wire protocol.

- Protocol version negotiation on connection
- Backwards-compatible message evolution (new optional fields, never remove existing)
- Published protocol specification

### Semver Commitment

Formal semantic versioning on the public API.

- `pub use strata_executor::*` defines the public surface
- Audit all public types, methods, and traits for stability
- Mark experimental features with `#[doc(hidden)]` or feature flags
- CI check for accidental API breakage (e.g., `cargo-semver-checks`)

### Comprehensive Fuzz Testing

Automated fuzzing of all input surfaces.

- Fuzz the command parser (arbitrary `Command` inputs)
- Fuzz the WAL reader (corrupt/malformed WAL segments)
- Fuzz the snapshot reader (corrupt/malformed snapshots)
- Fuzz the wire protocol parser (if server mode ships)
- Integrate with `cargo-fuzz` and run in CI

### Performance Benchmarks

Published, reproducible performance baselines.

- Benchmark suite covering all primitives (KV throughput, event append rate, vector search latency)
- Comparison benchmarks against SQLite, redb, LMDB (infrastructure already exists with `comparison-benchmarks` feature)
- Published results in docs with hardware specifications
- CI regression detection (alert on >10% throughput drop)

### Migration Tooling

Tools for upgrading between format versions.

- `stratadb migrate` command to upgrade database files
- Dry-run mode to verify migration without modifying data
- Rollback support (backup before migration)

## Context

v1.0 is about trust. Users need confidence that upgrading won't break their data or their code. Every feature in this milestone serves that goal.

## Dependencies

- All previous milestones (v0.2 through v0.7) should ship first
- Not all features from v0.2-v0.7 are required -- some may be deferred past v1.0
